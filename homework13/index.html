<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Урок 1. Функциональный Javascript. Homework 01.</title>
    </head>
    <!-- DOM-structure for task 3 -->
    <body id="root">
        <div class="header">
            <div class="mainMenu">
                <div class="mainMenu__item">menu1</div>
                <div class="mainMenu__item">menu2</div>
                <div class="mainMenu__item my-class">SpecialDesignItem</div>
                <div class="mainMenu__item">menu4</div>
            </div>
        </div>
        <div class="main">
            <div class="products">
                <div class="product">normal1</div>
                <div class="product">normal2</div>
                <div class="product">normal3</div>
                <div class="product my-class">SpecialDesignItem</div>
            </div>
        </div>
        <div class="footer">
            <p class="copyright my-class">SpecialDesignItem</p>
        </div>
        <script>
            // 1) Дан массив const arr = [1, 5, 7, 9] с помощью Math.min и spread оператора,
            // найти минимальное число в массиве, решение задание должно состоять из одной строки

            const arr = [1, 5, 7, 9];
            console.log(Math.min(...arr));

            // 2) Напишите функцию createCounter, которая создает счетчик и возвращает объект
            // с двумя методами: increment и decrement. Метод increment должен увеличивать значение счетчика на 1,
            // а метод decrement должен уменьшать значение счетчика на 1.
            // Значение счетчика должно быть доступно только через методы объекта, а не напрямую.

            function createCounter() {
                let value = 0;
                return {
                    increment() {
                        ++value;
                    },
                    decrement() {
                        --value;
                    },
                    getValue() {
                        return value;
                    },
                };
            }

            const testCounter = new createCounter();
            testCounter.increment();
            testCounter.increment();
            testCounter.increment();
            testCounter.increment();
            console.log(testCounter.getValue());
            testCounter.decrement();
            console.log(testCounter.getValue());

            // 3) Напишите рекурсивную функцию findElementByClass, которая принимает
            // корневой элемент дерева DOM и название класса в качестве аргументов
            // и возвращает первый найденный элемент с указанным классом в этом дереве.
            // Пример
            // const rootElement = document.getElementById('root');
            // const targetElement = findElementByClass(rootElement, 'my-class');
            // console.log(targetElement);

            function findElementByClass(parentElement, className) {
                if (
                    parentElement.classList &&
                    parentElement.classList.contains(className)
                ) {
                    return parentElement;
                } else {
                    for (const element of parentElement.children) {
                        const foundElement = findElementByClass(
                            element,
                            className
                        );
                        if (foundElement) {
                            return foundElement;
                        }
                    }
                }
                return null;
            }

            const rootElement = document.getElementById("root");
            const targetElement = findElementByClass(rootElement, "my-class");
            console.log(targetElement);
        </script>
    </body>
</html>
